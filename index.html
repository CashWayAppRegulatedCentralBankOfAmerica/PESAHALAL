<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Host Your Property - Nova Stays KE</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- Header -->
  <header class="bg-white shadow p-4 flex justify-between items-start">
    <h1 class="text-xl font-bold text-green-600">Nova Stays KE</h1>
    <a href="listings.html" class="text-green-600 underline text-sm">← Back to Listings</a>
  </header>

  <main class="max-w-xl mx-auto mt-10 bg-white p-6 rounded-xl shadow">
    <h2 class="text-lg font-bold mb-4 text-green-600">List Your Property</h2>
    
    <form id="hostForm" class="space-y-4">
      <input type="text" placeholder="Property Title" id="title" class="w-full border px-3 py-2 rounded-md" required>
      <input type="text" placeholder="Location (e.g. Nairobi)" id="location" class="w-full border px-3 py-2 rounded-md" required>
      <input type="number" placeholder="Price per night (USD)" id="price" class="w-full border px-3 py-2 rounded-md" required>
      <input type="url" placeholder="Image URL" id="image" class="w-full border px-3 py-2 rounded-md" required>
      <input type="text" placeholder="Host Name" id="hostName" class="w-full border px-3 py-2 rounded-md" required>
      <input type="url" placeholder="Host Avatar URL (optional)" id="hostAvatar" class="w-full border px-3 py-2 rounded-md">

      <!-- Features -->
      <div>
        <label class="block mb-1 text-sm font-medium">Features</label>
        <div class="flex flex-wrap gap-2 text-sm">
          <label><input type="checkbox" value="WiFi" class="mr-1">WiFi</label>
          <label><input type="checkbox" value="Pool" class="mr-1">Pool</label>
          <label><input type="checkbox" value="Parking" class="mr-1">Parking</label>
          <label><input type="checkbox" value="Breakfast" class="mr-1">Breakfast</label>
          <label><input type="checkbox" value="TV" class="mr-1">TV</label>
          <label><input type="checkbox" value="Balcony" class="mr-1">Balcony</label>
        </div>
      </div>

      <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-md">Submit Listing</button>
    </form>
  </main>

  <script>
    const form = document.getElementById('hostForm');

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const features = [...form.querySelectorAll('input[type="checkbox"]:checked')].map(cb => cb.value);

      const listing = {
        title: form.title.value,
        location: form.location.value,
        price: form.price.value,
        image: form.image.value,
        hostName: form.hostName.value,
        hostAvatar: form.hostAvatar.value || "https://i.pravatar.cc/40",
        features,
        rating: "⭐⭐⭐⭐☆ (New)"
      };

      const existing = JSON.parse(localStorage.getItem('novaListings') || '[]');
      existing.push(listing);
      localStorage.setItem('novaListings', JSON.stringify(existing));

      alert('Property listed successfully!');
      window.location.href = 'listings.html';
    });
  </script>
</body>
</html>
